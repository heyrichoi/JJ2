<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카제로스 시뮬레이터</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background-image: url('https://imgur.com/C8zFD93.png');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            color: #ffffff;
            overflow-x: hidden;
        }

        .game-container {
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            width: 100%;
        }

        .title {
            text-align: center;
            margin: 20px 0 40px 0;
        }

        .main-title {
            font-size: 3rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 10px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
        }

        .game-screen {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px;
            width: 100%;
            max-width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.3);
        }

        .character-selection {
            text-align: center;
        }

        .selection-title {
            font-size: 2rem;
            color: #ff6b6b;
            margin-bottom: 30px;
            font-weight: 800;
        }

        .character-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }

        .character-card {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .character-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(255, 107, 107, 0.4);
            border-color: #ff6b6b;
        }

        .character-card.breaker-card:hover {
            box-shadow: 0 15px 35px rgba(255, 215, 0, 0.6);
            border-color: #ffd700;
        }

        .character-image {
            width: 120px;
            height: 120px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 3px solid rgba(255, 255, 255, 0.5);
            object-fit: cover;
        }

        .character-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .character-desc {
            font-size: 1rem;
            color: #e0e6ed;
            margin-bottom: 15px;
        }

        .character-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .op-status {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
        }

        .weak-status {
            background: linear-gradient(45deg, #ff5252, #ff8a80);
            color: #fff;
        }

        .battle-screen {
            display: none;
        }

        .game-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
        }

        .turn-info {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ffa726;
        }

        .boss-hp-container {
            flex: 1;
            margin-left: 40px;
        }

        .hp-label {
            font-size: 1rem;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .hp-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .hp-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff5252, #ff8a80);
            transition: width 0.5s ease;
        }

        .hp-text {
            font-size: 0.9rem;
            margin-top: 5px;
            font-weight: 600;
        }

        .battle-area {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
        }

        .player-area, .boss-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .battle-character, .battle-boss {
            width: 150px;
            height: 150px;
            border-radius: 20px;
            border: 3px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 25px rgba(255, 107, 107, 0.4);
            object-fit: cover;
        }

        .battle-character.breaker-glow {
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            border-color: #ffd700;
        }

        .character-label, .boss-label {
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 16px;
            border-radius: 15px;
            font-weight: 700;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .vs-text {
            font-size: 2.5rem;
            font-weight: 900;
            color: #ff6b6b;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        .action-log {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            min-height: 100px;
            font-size: 1rem;
            line-height: 1.6;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .skills-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .skill-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            color: #ffffff;
            padding: 15px 20px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .skill-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .skill-btn.breaker-skill {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
        }

        .skill-btn.breaker-skill:hover {
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.6);
        }

        .result-screen {
            display: none;
            text-align: center;
        }

        .result-content {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .result-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 800;
        }

        .victory-title {
            color: #66bb6a;
        }

        .defeat-title {
            color: #ff5252;
        }

        .result-text {
            font-size: 1.2rem;
            line-height: 1.6;
            margin: 20px 0;
        }

        .retry-btn {
            background: linear-gradient(45deg, #66bb6a, #81c784);
            border: none;
            color: #ffffff;
            padding: 15px 30px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .retry-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 187, 106, 0.5);
        }

        .damage-flash {
            animation: damage-flash 0.4s ease-out;
        }

        @keyframes damage-flash {
            0% { filter: brightness(2) saturate(2); }
            100% { filter: brightness(1) saturate(1); }
        }

        .critical-hit {
            animation: critical-hit 0.6s ease-out;
        }

        @keyframes critical-hit {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .floating-damage {
            position: absolute;
            font-size: 2rem;
            font-weight: 900;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            animation: float-up 1s ease-out forwards;
            pointer-events: none;
        }

        @keyframes float-up {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px);
            }
        }

        /* 반응형 */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2rem;
            }
            
            .character-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .battle-area {
                flex-direction: column;
                gap: 20px;
            }
            
            .battle-character, .battle-boss {
                width: 120px;
                height: 120px;
            }
            
            .vs-text {
                font-size: 2rem;
            }
            
            .skills-container {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .game-status {
                flex-direction: column;
                gap: 15px;
            }
            
            .boss-hp-container {
                margin-left: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="title">
            <h1 class="main-title">카제로스 시뮬레이터</h1>
        </div>

        <!-- 캐릭터 선택 화면 -->
        <div class="game-screen character-selection" id="character-selection">
            <h2 class="selection-title">🔥 캐릭터를 선택하세요! 🔥</h2>
            <div class="character-grid">
                <div class="character-card breaker-card" onclick="selectCharacter('breaker')">
                    <img src="https://imgur.com/3ZsRiq4.png" alt="브레이커" class="character-image">
                    <h3 class="character-name">브레이커</h3>
                    <p class="character-desc">헤드 딜러의 숙명</p>
                    <div class="character-status op-status">호신투기 보유</div>
                </div>

                <div class="character-card" onclick="selectCharacter('striker')">
                    <img src="https://imgur.com/2CnlLrA.png" alt="스트라이커" class="character-image">
                    <h3 class="character-name">스트라이커</h3>
                    <p class="character-desc">백어택의 달인</p>
                    <div class="character-status weak-status">치적 시너지</div>
                </div>
            </div>
        </div>

        <!-- 전투 화면 -->
        <div class="game-screen battle-screen" id="battle-screen">
            <div class="game-status">
                <div class="turn-info">턴: <span id="current-turn">1</span>/7</div>
                <div class="boss-hp-container">
                    <div class="hp-label">카제로스 HP</div>
                    <div class="hp-bar">
                        <div class="hp-fill" id="boss-hp-bar"></div>
                    </div>
                    <div class="hp-text"><span id="boss-current-hp">1000</span>/1000</div>
                </div>
            </div>

            <div class="battle-area">
                <div class="player-area">
                    <img id="player-image" src="" alt="플레이어" class="battle-character">
                    <div class="character-label" id="player-name"></div>
                </div>

                <div class="vs-text">VS</div>

                <div class="boss-area">
                    <img src="https://imgur.com/3yUgLfB.jpg" alt="카제로스" class="battle-boss" id="boss-image">
                    <div class="boss-label">카제로스</div>
                </div>
            </div>

            <div class="action-log" id="action-log">
                카제로스가 나타났다! 전설의 시작이다!
            </div>

            <div class="skills-container" id="skills-container">
                <!-- 스킬 버튼들이 여기에 동적 생성 -->
            </div>
        </div>

        <!-- 결과 화면 -->
        <div class="game-screen result-screen" id="result-screen">
            <div class="result-content" id="result-content">
                <!-- 결과 내용이 여기에 동적 생성 -->
            </div>
            <button class="retry-btn" onclick="resetGame()">다시 도전하기</button>
        </div>
    </div>

    <script>
        // 게임 상태
        let gameState = {
            character: null,
            bossHp: 1000,
            maxBossHp: 1000,
            currentTurn: 1,
            maxTurns: 7,
            isGameActive: false
        };

        // 캐릭터 데이터
        const characters = {
            breaker: {
                name: "브레이커",
                image: "https://imgur.com/3ZsRiq4.png",
                skills: ["수라결", "성운멸쇄권", "파천섬광", "청월난무"]
            },
            striker: {
                name: "스트라이커",
                image: "https://imgur.com/2CnlLrA.png", 
                skills: ["청염각", "뇌호격", "풍신초래", "방천격"]
            }
        };

        // 브레이커 긍정 메시지
        const breakerPositiveMessages = [
            "워로드가 헤드 어그로를 잡아줬다! 헤드에 수라결 풀틱!",
            "스킬을 쓰는데 쁘허님이 카운터를 쳐주셨다! 프리딜!",
            "슈퍼 피면 무시는 존재하지 않았다! BJ호신투기!",
            "자그마한 낙사 맵에서 호신투기 활약!"
        ];

        // 브레이커 부정 메시지 (기존과 동일)
        const breakerNegativeMessages = [
            "카제로스가 머리를 돌려서 헤드에 적중하지 않았다!",
            "패턴 중이라 헤드가 안전하지 않아서 스킬이 빗나갔다!",
            "헤드 위치가 너무 위험해서 제대로 딜을 넣을 수 없었다!",
            "카제로스가 앞에 슈퍼 피면 무적 패턴을 사용해 피면이 풀려 적중하지 못했다!"
        ];

        // 스트라이커 긍정 메시지 (기존과 동일)
        const strikerPositiveMessages = [
            "옆구리에 썼지만 마침 워로드를 바라본 카제로스 덕분에 백에 스킬을 박을 수 있었다!",
            "백어택 프리딜 타이밍이었다! 완벽한 딜링!",
            "카제로스가 앞을 공격하는 동안 백에서 안전하게 딜을 넣었다!",
            "스트라이커를 사랑한 블레이드 시너지를 받아 더 큰 딜량!",
            "쫀숭이들의 응원으로 더 높은 데미지!"
        ];

        // 스트라이커 부정 메시지
        const strikerNegativeMessages = [
            "백어택 딜러가 너무 많아서 헤드에 박았다! 데미지 감소!",
            "백어택 프리딜 구간인 줄 알았는데 뎀감 기믹 구간이었다...",
            "백에 연속 피격 이상 패턴! 호신투기가 그립다...",
            "맵이 작아 낙사가 두렵다! 에겐딜을 했다..."
        ];

        // 캐릭터 선택
        function selectCharacter(character) {
            gameState.character = character;
            gameState.isGameActive = true;

            // 화면 전환
            document.getElementById('character-selection').style.display = 'none';
            document.getElementById('battle-screen').style.display = 'block';

            // 캐릭터 정보 설정
            const charData = characters[character];
            document.getElementById('player-image').src = charData.image;
            document.getElementById('player-name').textContent = charData.name;

            // 브레이커면 특별한 글로우 효과
            if (character === 'breaker') {
                document.getElementById('player-image').classList.add('breaker-glow');
            }

            // 스킬 버튼 생성
            generateSkillButtons(charData.skills, character);

            // 게임 상태 초기화
            resetGameState();
        }

        // 스킬 버튼 생성
        function generateSkillButtons(skills, character) {
            const container = document.getElementById('skills-container');
            container.innerHTML = '';

            skills.forEach(skill => {
                const button = document.createElement('button');
                button.className = character === 'breaker' ? 'skill-btn breaker-skill' : 'skill-btn';
                button.textContent = skill;
                button.onclick = () => useSkill(skill);
                container.appendChild(button);
            });
        }

        // 스킬 사용
        function useSkill(skillName) {
            if (!gameState.isGameActive) return;

            const isBreaker = gameState.character === 'breaker';
            let damage = 0;
            let message = '';

            if (isBreaker) {
                // 브레이커: 40% 확률로 긍정, 60% 확률로 부정
                const isPositive = Math.random() < 0.4;
                
                if (isPositive) {
                    // 긍정 상황: 높은 데미지
                    damage = Math.floor(Math.random() * 200) + 250; // 250-450 데미지
                    const randomMsg = breakerPositiveMessages[Math.floor(Math.random() * breakerPositiveMessages.length)];
                    message = `💥 ${skillName}! ${damage} 데미지! ${randomMsg}`;
                } else {
                    // 부정 상황: 낮은 데미지 또는 MISS
                    const isMiss = Math.random() < 0.4; // 40% 확률로 MISS
                    
                    if (isMiss) {
                        damage = 0;
                        const randomMsg = breakerNegativeMessages[Math.floor(Math.random() * breakerNegativeMessages.length)];
                        message = `💔 ${skillName} MISS! ${randomMsg}`;
                    } else {
                        damage = Math.floor(Math.random() * 100) + 50; // 50-150 데미지
                        const randomMsg = breakerNegativeMessages[Math.floor(Math.random() * breakerNegativeMessages.length)];
                        message = `😐 ${skillName}로 ${damage} 데미지! 하지만 ${randomMsg}`;
                    }
                }
                
            } else {
                // 스트라이커: 40% 확률로 긍정, 60% 확률로 부정
                const isPositive = Math.random() < 0.4;
                
                if (isPositive) {
                    // 긍정 상황: 높은 데미지
                    damage = Math.floor(Math.random() * 200) + 250; // 250-450 데미지
                    const randomMsg = strikerPositiveMessages[Math.floor(Math.random() * strikerPositiveMessages.length)];
                    message = `⚡ ${skillName}! ${damage} 데미지! ${randomMsg}`;
                } else {
                    // 부정 상황: 낮은 데미지 또는 MISS
                    const isMiss = Math.random() < 0.4; // 40% 확률로 MISS
                    
                    if (isMiss) {
                        damage = 0;
                        const randomMsg = strikerNegativeMessages[Math.floor(Math.random() * strikerNegativeMessages.length)];
                        message = `💔 ${skillName} MISS! ${randomMsg}`;
                    } else {
                        damage = Math.floor(Math.random() * 100) + 50; // 50-150 데미지
                        const randomMsg = strikerNegativeMessages[Math.floor(Math.random() * strikerNegativeMessages.length)];
                        message = `😢 ${skillName}로 ${damage} 데미지... ${randomMsg}`;
                    }
                }
            }

            // 데미지 적용
            gameState.bossHp = Math.max(0, gameState.bossHp - damage);
            updateUI();

            // 로그 업데이트
            document.getElementById('action-log').innerHTML = message;

            // 데미지 애니메이션
            if (damage > 0) {
                if (damage >= 250) {
                    // 고딜일 때 크리티컬 애니메이션
                    document.getElementById('boss-image').classList.add('critical-hit');
                    setTimeout(() => {
                        document.getElementById('boss-image').classList.remove('critical-hit');
                    }, 600);
                    showFloatingDamage(damage);
                } else {
                    // 낮은 딜일 때 일반 애니메이션
                    document.getElementById('boss-image').classList.add('damage-flash');
                    setTimeout(() => {
                        document.getElementById('boss-image').classList.remove('damage-flash');
                    }, 400);
                }
            }

            // 턴 증가
            gameState.currentTurn++;

            // 게임 종료 체크
            setTimeout(() => {
                checkGameEnd();
            }, 1200);
        }

        // 플로팅 데미지 표시
        function showFloatingDamage(damage) {
            const bossArea = document.querySelector('.boss-area');
            const floatingDamage = document.createElement('div');
            floatingDamage.className = 'floating-damage';
            floatingDamage.textContent = damage;
            floatingDamage.style.position = 'absolute';
            floatingDamage.style.left = '50%';
            floatingDamage.style.top = '50%';
            floatingDamage.style.transform = 'translate(-50%, -50%)';
            
            bossArea.style.position = 'relative';
            bossArea.appendChild(floatingDamage);

            setTimeout(() => {
                if (floatingDamage.parentNode) {
                    floatingDamage.parentNode.removeChild(floatingDamage);
                }
            }, 1000);
        }

        // UI 업데이트
        function updateUI() {
            document.getElementById('current-turn').textContent = gameState.currentTurn;
            document.getElementById('boss-current-hp').textContent = gameState.bossHp;

            const hpPercentage = (gameState.bossHp / gameState.maxBossHp) * 100;
            document.getElementById('boss-hp-bar').style.width = hpPercentage + '%';
        }

        // 게임 종료 체크
        function checkGameEnd() {
            if (gameState.bossHp <= 0) {
                showResult(true);
            } else if (gameState.currentTurn > gameState.maxTurns) {
                showResult(false);
            }
        }

        // 결과 표시
        function showResult(isVictory) {
            gameState.isGameActive = false;

            document.getElementById('battle-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';

            const resultContent = document.getElementById('result-content');
            const charName = characters[gameState.character].name;

            if (isVictory) {
                if (gameState.character === 'breaker') {
                    resultContent.innerHTML = `
                        <h2 class="result-title victory-title">🎉 카제로스 레이드 클리어! 🎉</h2>
                        <p class="result-text">
                            <strong>${charName}</strong>의 안정적인 헤드 딜링으로 카제로스를 처치했습니다!
                        </p>
                        <p class="result-text" style="color: #ffd700;">
                            그냥 브레이커 하십쇼..
                        </p>
                        <p class="result-text">
                            🏆 워로드와 쁘허님의 도움으로 완벽한 클리어!
                        </p>
                    `;
                } else {
                    resultContent.innerHTML = `
                        <h2 class="result-title victory-title">🎉 카제로스 레이드 클리어! 🎉</h2>
                        <p class="result-text">
                            <strong>${charName}</strong>의 백어택 딜링으로 카제로스를 처치했습니다!
                        </p>
                        <p class="result-text" style="color: #66bb6a;">
                            백어택 타이밍이 잘 맞았네요! 블레이드 시너지 최고!
                        </p>
                        <p class="result-text">
                            🏆 쫀숭이들의 응원 덕분에 승리!
                        </p>
                    `;
                }
            } else {
                if (gameState.character === 'breaker') {
                    resultContent.innerHTML = `
                        <h2 class="result-title defeat-title">💀 레이드 실패... 💀</h2>
                        <p class="result-text">
                            <strong>${charName}</strong>로도 카제로스를 처치하지 못했습니다...
                        </p>
                        <p class="result-text" style="color: #ff5252;">
                            헤드 포지션이 너무 어려웠나요? 슈퍼 피면이 계속 나왔네요...
                        </p>
                        <p class="result-text" style="color: #ffa726;">
                            ⚠️ 워로드와 더 호흡을 맞춰보세요!
                        </p>
                    `;
                } else {
                    resultContent.innerHTML = `
                        <h2 class="result-title defeat-title">💀 레이드 실패... 💀</h2>
                        <p class="result-text">
                            <strong>${charName}</strong>로는 카제로스를 처치하지 못했습니다...
                        </p>
                        <p class="result-text" style="color: #ff5252;">
                            백어택 딜러가 너무 많아서 헤드로 가야 했는데... 호신투기가 그리웠나요?
                        </p>
                        <p class="result-text" style="color: #ffa726;">
                            ⚠️ 백어택 프리딜 구간을 더 연구해보세요!
                        </p>
                    `;
                }
            }
        }

        // 게임 리셋
        function resetGame() {
            document.getElementById('result-screen').style.display = 'none';
            document.getElementById('character-selection').style.display = 'block';
            
            // 상태 초기화
            gameState = {
                character: null,
                bossHp: 1000,
                maxBossHp: 1000,
                currentTurn: 1,
                maxTurns: 7,
                isGameActive: false
            };

            // 클래스 제거
            document.getElementById('player-image').classList.remove('breaker-glow');
        }

        // 게임 상태 초기화
        function resetGameState() {
            gameState.bossHp = gameState.maxBossHp;
            gameState.currentTurn = 1;
            gameState.isGameActive = true;

            updateUI();
            document.getElementById('action-log').innerHTML = '카제로스가 나타났다! 전설의 시작이다!';
        }
    </script>
</body>
</html>